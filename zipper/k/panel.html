<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Network Zipper - Panel</title>
    <link rel="stylesheet" href="panel.css" />
</head>
<body>
    <div class="panel-container">
        <header class="panel-header">
            <h1>Network Zipper <span id="version"></span></h1>
            <p>Download network resources as a zip file.</p>
        </header>

        <!-- New section for site URL input -->
        <section class="site-input-section" style="margin: 10px 0; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
            <label for="siteUrl">Enter site URL to download resources from:</label>
            <input type="text" id="siteUrl" placeholder="https://example.com" style="width: 300px; margin-left: 10px;">
            <button id="loadSite" class="button">Load Site</button>
        </section>

        <section class="controls">
            <button id="download" class="button primary" 
                title="Zips all the files scanned in the network tab into 1 zip file and sends a download."
            >Download</button>
            <button id="refresh" class="button" 
                title="Resets the current scanned tab and gets scans for more files."
            >Refresh Files</button>
            <label class="checkbox-button" 
                title="Formats HTML, CSS and Javascript files."
            >
                <input type="checkbox" id="beautify" />
                <span class="button">Beautify Files</span>
            </label>
            <label class="checkbox-button" 
                title="Add the '.html' extension to files that have no extension. Could be useful for websites but some games have extension-less engine files."
            >
                <input type="checkbox" id="addhtml" />
                <span class="button">Add .html to extension-less files</span>
            </label>
        </section>

        <section class="download-info">
            <span>Download status:</span>
        </section>

        <section class="download-status-container">
            <div id="downloadStatus" class="download-status">Waiting...</div>
        </section>
        <br />
        <section class="file-info">
            <span>Files: <span id="fileCount">0</span></span>
        </section>

        <section class="file-list-container">
            <div id="fileList" class="file-list"></div>
        </section>

        <div class="theme-dropdown">
            <button class="theme-dropdown-button">Select Theme</button>
            <div class="theme-dropdown-content">
                <a href="#" data-theme="light-theme">Light</a>
                <a href="#" data-theme="dark-theme">Dark</a>
                <a href="#" data-theme="midnight-theme">Midnight</a>
                <a href="#" data-theme="cyberpunk-theme">Cyberpunk</a>
                <a href="#" data-theme="hacker-theme">Hacker</a>
                <a href="#" data-theme="sunset-theme">Sunset</a>
                <a href="#" data-theme="ocean-theme">Ocean</a>
                <a href="#" data-theme="retro-arcade-theme">Retro Arcade</a>
            </div>            
        </div>

        <div class="footer-buttons">
            <button id="github" class="button">GitHub</button>
            <button id="discord" class="button">Discord</button>
        </div>
    </div>

    <!-- JS libraries -->
    <script src="lib/jszip.js"></script>
    <script src="lib/beautify.js"></script>
    <script src="lib/beautify-css.js"></script>
    <script src="lib/beautify-html.js"></script>
    <!-- Your script -->
    <script>
        // Example function to handle site URL (you should implement your logic here)
        function handleSiteUrl(url) {
            alert('Loading resources from: ' + url);
            // You can add your existing code to scan or fetch resources here
        }

        // When page loads, prompt user for site URL
        window.onload = function() {
            const siteUrl = prompt('Enter the site URL you want to download resources from:');
            if (siteUrl) {
                handleSiteUrl(siteUrl.trim());
            }
        };

        // Add event listener for Load Site button
        document.getElementById('loadSite').addEventListener('click', function() {
            const siteUrl = document.getElementById('siteUrl').value.trim();
            if (siteUrl) {
                handleSiteUrl(siteUrl);
            } else {
                alert('Please enter a valid site URL.');
            }
        });
    </script>
</body>
</html>
